#pragma checksum "C:\Nikita\Projects\GripDigitalAPI\GripDigitalAPI\Pages\Match.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "a655f5815311e80656f722840bf65fd461374f70"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(GripDigitalAPI.Pages.Pages_Match), @"mvc.1.0.razor-page", @"/Pages/Match.cshtml")]
namespace GripDigitalAPI.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Nikita\Projects\GripDigitalAPI\GripDigitalAPI\Pages\_ViewImports.cshtml"
using GripDigitalAPI;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"a655f5815311e80656f722840bf65fd461374f70", @"/Pages/Match.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"aa90635d97b8cd06c9901f6266dcd33e0ace8a99", @"/Pages/_ViewImports.cshtml")]
    public class Pages_Match : global::Microsoft.AspNetCore.Mvc.RazorPages.Page
    {
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "C:\Nikita\Projects\GripDigitalAPI\GripDigitalAPI\Pages\Match.cshtml"
  
    Layout = null;

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n<!DOCTYPE html>\r\n<html>\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("head", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "a655f5815311e80656f722840bf65fd461374f703210", async() => {
                WriteLiteral("\r\n    <meta charset=\"utf-8\" />\r\n    <title>Match</title>\r\n");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("body", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "a655f5815311e80656f722840bf65fd461374f704238", async() => {
                WriteLiteral("\r\n");
                WriteLiteral("\r\n");
                WriteLiteral(@"
    <div id=""inputForm"">
        <input type=""button"" id=""fireBtn"" value=""Fire"" />
        <input type=""button"" id=""left"" value=""left"" /> left <br />
        <input type=""button"" id=""right"" value=""right"" /> right <br />
        <input type=""button"" id=""up"" value=""up"" /> up <br />
        <input type=""button"" id=""down"" value=""down"" /> down <br />

        <input type=""button"" id=""getPlayersBtn"" value=""Get players"" />
    </div>
    <div id=""chatroom""></div>
    <script src=""js/signalr/dist/browser/signalr.min.js""></script>

    <script>
        //let token;
        //let username;

        const hubConnection = new signalR.HubConnectionBuilder()
            .withUrl(""/match/room""/*, { accessTokenFactory: () => token }*/)
            .build();

        //hubConnection.on(""Receive"", function (message, userName) {
 
        //    let userNameElem = document.createElement(""b"");
        //    userNameElem.appendChild(document.createTextNode(userName + "": ""));
 
        //    let elem = do");
                WriteLiteral(@"cument.createElement(""p"");
        //    elem.appendChild(userNameElem);
        //    elem.appendChild(document.createTextNode(message));
 
        //    var firstElem = document.getElementById(""chatroom"").firstChild;
        //    document.getElementById(""chatroom"").insertBefore(elem, firstElem);
        //});

        // Authentication
        //document.getElementById(""loginBtn"").addEventListener(""click"", function (e) {
        //    console.log(""Fungujuu"");
             
        //    var request = new XMLHttpRequest();
        //    // Send a POSt to api /match/join
        //    request.open(""POST"", ""api/game/match/join"");   
        //    request.setRequestHeader(""Content-Type"", ""application/x-www-form-urlencoded"");
        //    request.addEventListener(""load"", function () {
        //        console.log(request.status);
        //        if (request.status < 400) { // If success
 
        //            let data = JSON.parse(request.response);   // Parse response
        //      ");
                WriteLiteral(@"      token = data.ApiToken;
        //            username = data.Username;
 
        //            hubConnection.start()       // Start hub connection
        //            .catch(err => {  
        //                console.error(err.toString());
        //                document.getElementById(""loginBtn"").disabled = true;
        //            });
        //        }
        //    });
        //    // Send request
        //    var name = document.getElementById(""username"").value;
        //    var pswd = document.getElementById(""password"").value;
        //    request.send(""username="" + name +
        //        ""&password="" + pswd);
        //});


        hubConnection.on(""Fire"", function () {

            let elem = document.createElement(""p"");
            elem.appendChild(document.createTextNode(""Client is shooting""));
            let firstElem = document.getElementById(""chatroom"").firstChild;
            document.getElementById(""chatroom"").insertBefore(elem, firstElem);

   ");
                WriteLiteral(@"     });

        hubConnection.on(""Move"", function (position) {

            let elem = document.createElement(""p"");
            elem.appendChild(document.createTextNode(""Position: "" + position));
            let firstElem = document.getElementById(""chatroom"").firstChild;
            document.getElementById(""chatroom"").insertBefore(elem, firstElem);

        });

        hubConnection.on(""GetPlayers"", function (playerIds) {

            let elem = document.createElement(""p"");
            elem.appendChild(document.createTextNode(""Received players""));
            let firstElem = document.getElementById(""chatroom"").firstChild;
            document.getElementById(""chatroom"").insertBefore(elem, firstElem);

        });

        document.getElementById(""fireBtn"").addEventListener(""click"", function (e) {
            hubConnection.invoke(""Fire"");
        });

        document.getElementById(""left"").addEventListener(""click"", function (e) {
            hubConnection.invoke(""Move"", ""left"");
  ");
                WriteLiteral(@"      });

        document.getElementById(""right"").addEventListener(""click"", function (e) {
            hubConnection.invoke(""Move"", ""right"");
        });

        document.getElementById(""up"").addEventListener(""click"", function (e) {
            hubConnection.invoke(""Move"", ""up"");
        });

        document.getElementById(""down"").addEventListener(""click"", function (e) {
            hubConnection.invoke(""Move"", ""down"");
        });

        document.getElementById(""getPlayersBtn"").addEventListener(""click"", function (e) {
            hubConnection.invoke(""GetPlayers"");
        });

        hubConnection.start();
    </script>
");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n</html>\r\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Pages_Match> Html { get; private set; }
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary<Pages_Match> ViewData => (global::Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary<Pages_Match>)PageContext?.ViewData;
        public Pages_Match Model => ViewData.Model;
    }
}
#pragma warning restore 1591
